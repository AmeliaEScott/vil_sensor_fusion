<launch>

	<arg name="bagfile" />
	<arg name="rovio" default="true" />
    <arg name="loam" default="true" />
    <arg name="rviz" default="false" />

	<node pkg="rosbag" type="play" name="rosbag_player" args="-r 1.0 $(arg bagfile)" >
        <remap from="/lidar/carla" to="/velodyne_points" />
	</node>

	<node pkg="carla_tools" type="carla_frame_transforms.py" name="carla_frame_transforms" output="screen">
        <remap from="~imu/carla" to="/imu/carla" />
        <remap from="~lidar/carla" to="/lidar/carla" />

        <remap from="~imu/loam" to="/imu/loam" />
        <remap from="~imu/rovio" to="/imu/rovio" />
        <remap from="~imu/ros" to="/imu/ros" />
        <remap from="~lidar/loam" to="/lidar/loam" />
        <!--remap from="~lidar/carla" to="/velodyne_points" /-->
	</node>


    <include file="$(find vil_fusion)/launch/vil_fusion.launch">
        <arg name="rovio" value="$(arg rovio)" />
        <arg name="loam" value="$(arg loam)" />
        <arg name="rviz" value="$(arg rviz)" />
    </include>

</launch>